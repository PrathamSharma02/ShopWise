{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    products: [],\n    quantity: 0,\n    total: 0\n  },\n  reducers: {\n    addProduct: (state, action) => {\n      // state.quantity+=1;\n      // state.products.push(action.payload);\n      // state.total+= action.payload.price *action.payload.quantity;\n      const productToAdd = action.payload;\n      const existingProduct = state.products.find(product => product._id === productToAdd._id);\n      if (existingProduct) {\n        existingProduct.quantity += 1;\n      } else {\n        state.products.push({\n          ...productToAdd,\n          quantity: 1\n        });\n      }\n      state.total += productToAdd.price;\n    },\n    deleteProduct: (state, action) => {\n      const productId = action.payload;\n      const existingProduct = state.products.find(product => product._id === productId);\n      if (existingProduct) {\n        if (existingProduct.quantity === 1) {\n          state.products = state.products.filter(product => product._id !== productId);\n        } else {\n          existingProduct.quantity -= 1;\n        }\n        state.total -= existingProduct.price;\n      }\n    }\n  }\n});\nexport const {\n  addProduct,\n  deleteProduct\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","products","quantity","total","reducers","addProduct","state","action","productToAdd","payload","existingProduct","find","product","_id","push","price","deleteProduct","productId","filter","actions","reducer"],"sources":["C:/Users/Pratham/OneDrive/Desktop/ShopWise/E-Commerce/src/redux/cartRedux.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n    name:\"cart\",\n    initialState:{\n        products:[],\n        quantity:0,\n        total: 0,\n    },\n    reducers:{\n        addProduct:(state,action)=>{\n            // state.quantity+=1;\n            // state.products.push(action.payload);\n            // state.total+= action.payload.price *action.payload.quantity;\n            const productToAdd = action.payload;\n      const existingProduct = state.products.find(\n        (product) => product._id === productToAdd._id\n      );\n\n      if (existingProduct) {\n        existingProduct.quantity += 1;\n      } else {\n        state.products.push({ ...productToAdd, quantity: 1 });\n      }\n\n      state.total += productToAdd.price;\n        },\n        deleteProduct: (state, action) => {\n            const productId = action.payload;\n      const existingProduct = state.products.find(\n        (product) => product._id === productId\n      );\n\n      if (existingProduct) {\n        if (existingProduct.quantity === 1) {\n          state.products = state.products.filter(\n            (product) => product._id !== productId\n          );\n        } else {\n          existingProduct.quantity -= 1;\n        }\n\n        state.total -= existingProduct.price;\n      }\n          },\n    },\n\n});\n\nexport const {addProduct,deleteProduct} = cartSlice.actions\nexport default cartSlice.reducer;\n"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAE5C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC1BE,IAAI,EAAC,MAAM;EACXC,YAAY,EAAC;IACTC,QAAQ,EAAC,EAAE;IACXC,QAAQ,EAAC,CAAC;IACVC,KAAK,EAAE;EACX,CAAC;EACDC,QAAQ,EAAC;IACLC,UAAU,EAACA,CAACC,KAAK,EAACC,MAAM,KAAG;MACvB;MACA;MACA;MACA,MAAMC,YAAY,GAAGD,MAAM,CAACE,OAAO;MACzC,MAAMC,eAAe,GAAGJ,KAAK,CAACL,QAAQ,CAACU,IAAI,CACxCC,OAAO,IAAKA,OAAO,CAACC,GAAG,KAAKL,YAAY,CAACK,GAC5C,CAAC;MAED,IAAIH,eAAe,EAAE;QACnBA,eAAe,CAACR,QAAQ,IAAI,CAAC;MAC/B,CAAC,MAAM;QACLI,KAAK,CAACL,QAAQ,CAACa,IAAI,CAAC;UAAE,GAAGN,YAAY;UAAEN,QAAQ,EAAE;QAAE,CAAC,CAAC;MACvD;MAEAI,KAAK,CAACH,KAAK,IAAIK,YAAY,CAACO,KAAK;IAC/B,CAAC;IACDC,aAAa,EAAEA,CAACV,KAAK,EAAEC,MAAM,KAAK;MAC9B,MAAMU,SAAS,GAAGV,MAAM,CAACE,OAAO;MACtC,MAAMC,eAAe,GAAGJ,KAAK,CAACL,QAAQ,CAACU,IAAI,CACxCC,OAAO,IAAKA,OAAO,CAACC,GAAG,KAAKI,SAC/B,CAAC;MAED,IAAIP,eAAe,EAAE;QACnB,IAAIA,eAAe,CAACR,QAAQ,KAAK,CAAC,EAAE;UAClCI,KAAK,CAACL,QAAQ,GAAGK,KAAK,CAACL,QAAQ,CAACiB,MAAM,CACnCN,OAAO,IAAKA,OAAO,CAACC,GAAG,KAAKI,SAC/B,CAAC;QACH,CAAC,MAAM;UACLP,eAAe,CAACR,QAAQ,IAAI,CAAC;QAC/B;QAEAI,KAAK,CAACH,KAAK,IAAIO,eAAe,CAACK,KAAK;MACtC;IACI;EACN;AAEJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACV,UAAU;EAACW;AAAa,CAAC,GAAGlB,SAAS,CAACqB,OAAO;AAC3D,eAAerB,SAAS,CAACsB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}